---
// Secci√≥n de habilidades y tecnolog√≠as

// Importar iconos desde el index centralizado
import { ICONOS } from '../assets/iconos';

// Datos de habilidades organizadas por categor√≠as
const skillCategories = [
  {
    title: "Lenguajes & Backend",
    icon: "üíª",
    skills: [
      { 
        name: "C# (ASP.NET, Swagger, Entity Framework)", 
        level: 90, 
        icon: null
      },
      { 
        name: "Java (Spring, Hibernate, Maven)", 
        level: 75, 
        icon: null
      },
      
      { 
        name: "JavaScript", 
        level: 70, 
        icon: null
      },
      { 
        name: "Python (Django, Flask)", 
        level: 65, 
        icon: null
      },
      { 
        name: "SQL (MySQL, PostgreSQL, SQLite, SQL Server)", 
        level: 50, 
        icon: null
      }
      
    ]
  },
  {
    title: "Frontend & CMS",
    icon: "üé®",
    skills: [
      { 
        name: "HTML/CSS (+ Tailwind CSS)", 
        level: 90, 
        icon: null
      },
      
      { 
        name: "React", 
        level: 86, 
        icon: null
      },
      { 
        name: "Astro", 
        level: 70, 
        icon: null
      },
    { 
        name: "UI/UX", 
        level: 70, 
        icon: null
      },
      { 
        name: "WordPress/WooCommerce/Elementor/TiendaNube", 
        level: 90, 
        icon: null
      }
    ]
  },
  {
    title: "Habilidades de analista",
    icon: "‚öôÔ∏è",
    skills: [
      { 
        name: "Captura de requerimientos y documentaci√≥n", 
        level: 95, 
        icon: null
      },
    
      { 
        name: "Procesos organizacionales", 
        level: 80, 
        icon: null
      },
      { 
        name: "Modelado UML & BPMN", 
        level: 90, 
        icon: null
      },
      { 
        name: "Analisis funcional y de sistemas", 
        level: 90, 
        icon: null
      },
      { 
        name: "Comunicaci√≥n efectiva", 
        level: 85, 
        icon: null
      }
      ]
  },
  {
    title: "Herramientas & Metodolog√≠as",
    icon: "üõ†Ô∏è",
    skills: [
      { 
        name: "Git (GitHUB, GitLab)", 
        level: 100, 
        icon: null
      },
      { 
        name: "Jira", 
        level: 100, 
        icon: null
      },
  { 
        name: "Scrum", 
        level: 92, 
        icon: null
      },
      { 
        name: "IA (chatGPT, cloud AI, prompt engineering, machine learning)", 
        level: 86, 
        icon: null
      },
      { 
        name: "Docker", 
        level: 60, 
        icon: null
      }
    ]
  }
];


// Logros destacados
const achievements = [
  {
    title: "Automatizaci√≥n de ventas con Python",
    issuer: "Aplicaci√≥n de escritorio",
    date: "2024",
    icon: "üêç"
  },
  {
    title: "E-commerce Osaka (WooCommerce)",
    issuer: "Proyecto freelance",
    date: "2024",
    icon: "ÔøΩ"
  },
  {
    title: "Landing GoGo Travel (WordPress + Elementor)",
    issuer: "Proyecto freelance",
    date: "2023",
    icon: "üß≠"
  }
];
---

<section id="skills" class="py-20 bg-white dark:bg-gray-900">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Encabezado de secci√≥n -->
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4">
        Mis <span class="text-blue-600">Habilidades</span>
      </h2>
      <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
        Tecnolog√≠as y herramientas con las que trabajo para crear soluciones excepcionales
      </p>
    </div>

    <!-- Grid de categor√≠as de habilidades -->
    <div class="grid md:grid-cols-2 gap-8 mb-16">
      {skillCategories.map((category) => (
        <div class="bg-gray-50 dark:bg-gray-800 rounded-2xl p-8 hover:shadow-lg transition-shadow">
          <div class="flex items-center mb-6">
            <span class="text-3xl mr-4">{category.icon}</span>
            <h3 class="text-2xl font-bold text-gray-900 dark:text-white">{category.title}</h3>
          </div>
          
          <div class="space-y-4">
            {category.skills.map((skill) => (
              <div class="skill-item">
                <div class="flex items-center justify-between mb-2">
                  <div class="flex items-center">
                    {skill.icon && (
                      typeof skill.icon === 'string' && skill.icon.includes('<svg') ? (
                        <span class="text-lg mr-2 flex items-center" set:html={skill.icon}></span>
                      ) : (
                        <img src={typeof skill.icon === 'string' ? skill.icon : skill.icon.src} alt={skill.name} class="w-6 h-6 mr-2 object-contain" />
                      )
                    )}
                    <span class="font-medium text-gray-900 dark:text-white">{skill.name}</span>
                  </div>
                  <span class="text-sm text-gray-600 dark:text-gray-400">{skill.level}%</span>
                </div>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5">
                  <div 
                    class="bg-linear-to-r from-blue-500 to-purple-600 h-2.5 rounded-full transition-all duration-1000 skill-bar"
                    data-level={skill.level}
                    style={{ width: '0%' }}
                  ></div>
                </div>
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>

    <!-- Secci√≥n de workflow/proceso -->
  <div class="bg-linear-to-r from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-800 rounded-2xl p-8 mb-16">
      <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-8 text-center">
        Mi Proceso de Desarrollo
      </h3>
      
      <div class="grid md:grid-cols-4 gap-6">
        <div class="text-center">
          <div class="w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
            </svg>
          </div>
          <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Planificaci√≥n</h4>
          <p class="text-sm text-gray-600 dark:text-gray-400">An√°lisis de requisitos y dise√±o de la arquitectura</p>
        </div>
        
        <div class="text-center">
          <div class="w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
            </svg>
          </div>
          <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Desarrollo</h4>
          <p class="text-sm text-gray-600 dark:text-gray-400">Codificaci√≥n con las mejores pr√°cticas</p>
        </div>
        
        <div class="text-center">
          <div class="w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Testing</h4>
          <p class="text-sm text-gray-600 dark:text-gray-400">Pruebas exhaustivas y control de calidad</p>
        </div>
        
        <div class="text-center">
          <div class="w-16 h-16 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
            </svg>
          </div>
          <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Deploy</h4>
          <p class="text-sm text-gray-600 dark:text-gray-400">Despliegue y monitoreo continuo</p>
        </div>
      </div>
    </div>



    <!-- CTA -->
    <div class="text-center mt-12">
      <p class="text-lg text-gray-600 dark:text-gray-400 mb-6">
        ¬øNecesitas estas habilidades en tu pr√≥ximo proyecto?
      </p>
      <a 
        href="#contact"
        class="inline-flex items-center px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors shadow-lg hover:shadow-xl"
      >
        Hablemos
        <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </a>
    </div>
  </div>
</section>

<style>
  .skill-item {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 0.6s ease forwards;
  }

  .skill-item:nth-child(1) { animation-delay: 0.1s; }
  .skill-item:nth-child(2) { animation-delay: 0.2s; }
  .skill-item:nth-child(3) { animation-delay: 0.3s; }
  .skill-item:nth-child(4) { animation-delay: 0.4s; }
  .skill-item:nth-child(5) { animation-delay: 0.5s; }
  .skill-item:nth-child(6) { animation-delay: 0.6s; }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

<script>
  // Animaci√≥n de barras de progreso
  function initSkillBars() {
    const skillBars = document.querySelectorAll('.skill-bar');
    
    const animateSkillBars = () => {
      skillBars.forEach((bar, index) => {
        if (!(bar instanceof HTMLElement)) {
          return;
        }

        const level = bar.getAttribute('data-level');
        if (!level) {
          return;
        }

        // A√±adir un retraso escalonado para cada barra
        setTimeout(() => {
          bar.style.width = `${level}%`;
        }, index * 100 + 500);
      });
    };

    // Intersection Observer para animar cuando la secci√≥n es visible
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          animateSkillBars();
          observer.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.3,
      rootMargin: '0px 0px -100px 0px'
    });

    const skillsSection = document.getElementById('skills');
    if (skillsSection) {
      observer.observe(skillsSection);
    }
  }

  // Ejecutar cuando el DOM est√© listo
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initSkillBars);
  } else {
    initSkillBars();
  }

  // Tambi√©n ejecutar en caso de navegaci√≥n SPA
  document.addEventListener('astro:page-load', initSkillBars);
</script>